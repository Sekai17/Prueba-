<!doctype html><html lang=es><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover,user-scalable=no,minimal-ui"><meta name=theme-color content=#0b0f14><title>Clicker — Singularidad v2</title><style>
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}html,body{height:100%}body{margin:0;background:#070a14;color:#eaf1ff;font:600 16px/1.2 system-ui,Segoe UI,Roboto,Ubuntu,Arial;display:grid;place-items:center}#a{width:min(96vmin,560px);background:#0d1222;border:1px solid #223055;border-radius:18px;box-shadow:0 22px 90px rgba(0,0,0,.5);padding:10px;display:grid;gap:8px}h1{margin:0;font-size:18px;color:#9db1d8;display:flex;gap:8px;align-items:center;justify-content:space-between}#s{font-weight:800;color:#8fb3ff}#sig{font:800 12px/1 system-ui;color:#8ee0b6;background:#0a1b17;border:1px solid #1d3a31;padding:3px 8px;border-radius:12px}#n{font:900 40px/1.05 system-ui;letter-spacing:.5px}#p{height:10px;background:#0a1330;border:1px solid #1e2c55;border-radius:10px;overflow:hidden}#pb{display:block;height:100%;background:linear-gradient(90deg,#6aa8ff,#49f3a1)}#tap{position:sticky;bottom:0;inset-inline:0;cursor:pointer;border:0;border-radius:16px;padding:18px;background:linear-gradient(180deg,#53f4a6,#2bd07f);color:#07101a;font-weight:1000;font-size:22px;letter-spacing:.6px}#tap:active{transform:scale(.985)}#bar{display:grid;grid-template-columns:1fr auto auto;gap:6px;align-items:center}#buy,#auto{all:unset;border:1px solid #243156;background:#0f1728;border-radius:12px;padding:8px 10px;cursor:pointer;font-weight:800}#shop{display:grid;gap:8px}button.b{all:unset;display:grid;grid-template-columns:1fr auto;gap:6px;align-items:center;border:1px solid #243156;background:#0f1728;border-radius:14px;padding:12px;cursor:pointer}button.b:active{transform:scale(.99)}.t{color:#c9e4ff}.c{color:#9bd2ff;font-weight:900}#log{min-height:22px;color:#a8ffd7;font-size:12px;opacity:.95}small{color:#8aa0c6}#gear{all:unset;width:36px;height:36px;border-radius:11px;border:1px solid #243156;background:#10172a;display:grid;place-items:center;cursor:pointer}#panel{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;place-items:center}#card{width:min(92vmin,520px);background:#0e1424;border:1px solid #243156;border-radius:16px;padding:12px;display:grid;gap:8px}#x{all:unset;justify-self:end;border:1px solid #243156;border-radius:10px;padding:6px 10px;background:#111a2e;cursor:pointer}label{display:flex;justify-content:space-between;align-items:center;font:600 14px system-ui}input[type=checkbox]{width:20px;height:20px}#toast{position:fixed;left:50%;bottom:16px;transform:translateX(-50%);background:#102c1f;border:1px solid #1b5a3e;color:#bfffdc;padding:10px 14px;border-radius:12px;display:none}#prs{display:none}#prs.show{display:block}#ach{display:grid;gap:6px}a.btn{all:unset;display:inline-grid;place-items:center;border:1px solid #2a3a66;background:#0f1730;border-radius:12px;padding:8px 10px;cursor:pointer}
@keyframes g{0%{transform:translate(0)}25%{transform:translate(1px,-1px)}50%{transform:translate(-1px,1px)}75%{transform:translate(1px,1px)}100%{transform:translate(0)}}
</style><body><main id=a><h1>Clicker — <span id=s></span><button id=gear>⚙️</button></h1><div id=n>Ω 0</div><div id=bar><div id=p><i id=pb style="width:0%"></i></div><button id=buy>x1</button><button id=auto>▶︎</button></div><button id=tap>TOCAR</button><section id=shop></section><div id=prs><a class=btn id=prest>Prestigiar</a></div><div id=log></div><small>Etapas: 🌱 Planta → 🧠 Conciencia → ⛏️ Minería → 🌍 Mundo → ♾️ Singularidad → 🤖 AI → 🌀 Raro → 🐛 Errorezs → 🧩 Glichs <span id=sig>Σ0</span></small></main><div id=panel><div id=card><button id=x>cerrar</button><label>Audio<input id=aud type=checkbox></label><label>Vibración<input id=hap type=checkbox checked></label><label>Reducir movimiento<input id=rm type=checkbox></label><label>Auto-avanzar etapas<input id=aadv type=checkbox checked></label><label>Guardar cada 5s<input id=asv type=checkbox checked></label><div style="display:grid;grid-template-columns:1fr 1fr;gap:8px"><a id=share class=btn>Compartir</a><a id=export class=btn>Exportar</a><a id=import class=btn>Importar</a><a id=reset class=btn>Reset</a></div><div id=ach></div></div></div><div id=toast></div><script>
const D=document,$=e=>D.querySelector(e),fmt=n=>Intl.NumberFormat('es-AR',{notation:n>9999?'compact':'standard',maximumFractionDigits:2}).format(n);let st=0,nm=["Planta","Conciencia","Minería","Dominar el Mundo","Singularidad","AI","Raro","Errorezs","Glichs"],goal=[50,600,6e3,8e4,1.2e6,2e7,3e8,5e9,9e10],r=0,tap=1,cps=0,tm=0,rare=0,crit=.02,h=true,aud=false,rm=false,aadv=true,hold=null,holdOn=false,bulk=1,autos=false,sigma=0,ach=new Set(),toast=$("#toast"),log=$("#log"),S=$("#s"),N=$("#n"),PB=$("#pb"),SH=$("#shop"),SIG=$("#sig"),PRS=$("#prs");S.textContent=nm[st];
let up=[{k:"tap",n:"+TOQUE",b:10,m:1.5,g:1,info:()=>`+${fmt(Math.max(1,Math.floor(tap*.15)))}/tap`,em:"👆"},{k:"auto",n:"AUTO",b:25,m:1.6,g:.5,info:()=>`+${fmt(Math.max(.1,+(cps*.12).toFixed(2)))}/s`,em:"⏱️"},{k:"caos",n:"CAOS",b:120,m:2.1,g:1,info:()=>"raros/crit↑",em:"🌀"},{k:"crit",n:"CRIT",b:300,m:2,info:()=>"crit%.↑",em:"💥"},{k:"eff",n:"EFIC",b:200,m:1.85,info:()=>"costos↓",em:"⚙️"}].map(u=>({...u,c:0}));
function price(u,i=u.c){return Math.ceil(u.b*Math.pow(u.m,i)*(1-0.03*u.c))}
function bulkCost(u,q){let a=price(u),m=u.m;let sum=0,i=u.c;for(let k=0;k<q;k++){sum+=price(u,i+k)}return Math.max(1,Math.ceil(sum))}
function drawShop(){SH.innerHTML="";up.forEach(u=>{let b=D.createElement("button");b.className="b";let t=D.createElement("div");t.className="t";t.textContent=`${u.em} ${u.n} · ${u.info()}`;let c=D.createElement("div");c.className="c";let cost=bulk==1?price(u):bulkCost(u,bulk);c.textContent="$"+fmt(cost);b.append(t,c);b.onclick=()=>buy(u);SH.append(b)})}
function buy(u){let cost=bulk==1?price(u):bulkCost(u,bulk);if(r<cost)return flash("Faltan Ω");r-=cost;let q=bulk;while(q--){u.c++;if(u.k=="tap"){tap+=Math.max(1,Math.floor(tap*.15))}if(u.k=="auto"){let add=Math.max(.1,+(cps*.12).toFixed(2));cps+=add}if(u.k=="caos"){rare+=.012;crit+=.002}if(u.k=="crit"){crit+=.01}if(u.k=="eff"){}}drawShop();flash("¡Mejora!");chkAch()}
function flash(t){log.textContent=t;setTimeout(()=>log.textContent="",900)}
function toastMsg(t){toast.textContent=t;toast.style.display="block";setTimeout(()=>toast.style.display="none",1200)}
function haptic(n=8){h&&navigator.vibrate?.(n)}
$("#tap").onpointerdown=e=>{t();haptic(12);holdOn=true;hold=setInterval(()=>{t(true)},120)};$("#tap").onpointerup=$("#tap").onpointercancel=()=>{clearInterval(hold);holdOn=false}
function t(auto=false){let g=tap*(1+(st>=3?.2:0))*(1+(st>=5?.3:0))*(1+sigma*.05);if(Math.random()<crit)g*=2,rm||shake();if(st>=7&&Math.random()<.02)g*=Math.random()<.5?.5:2;r+=g;N.textContent="Ω "+fmt(r);auto||chkAch()}
function stageFX(){if(st==1){tap*=2;flash("La planta piensa.")}if(st==2){cps+=2;flash("Minería inicia.")}if(st==3){tap*=2;cps*=1.8;flash("Influencia global.")}if(st==4){flash("Tecno-singularidad.")}if(st==5){flash("AI optimiza.")}if(st==6){rare+=.02;flash("Raros llueven.")}if(st==7){flash("Errorezs mutan.")}if(st==8){flash("Glichs distorsionan.")}drawShop();PRS.className="show"}
function tick(ti){let dt=(ti-tm)/1000;tm=ti;let mult=1+(st>=4?.05:0)+(st>=5?.07:0)+(sigma*.05);r+=cps*dt*mult;if(st>=6&&Math.random()<rare*dt)r+=goal[st]*(.01+Math.random()*.02);if(st>=7&&Math.random()<.02)r*=.98+Math.random()*.04;if(st>=8&&Math.random()<.03&&!rm){shake()}N.textContent="Ω "+fmt(r);let pr=Math.max(0,Math.min(1,r/goal[st]));PB.style.width=(pr*100)+"%";if(r>=goal[st]&&st<nm.length-1){st++;S.textContent=nm[st];flash("→ "+nm[st]);stageFX();if(aadv)toastMsg("Auto-avance on")}requestAnimationFrame(tick)}
function shake(){D.body.style.animation="g .18s linear 2";setTimeout(()=>D.body.style.animation="",280)}
function save(man=false){let o={st,r,tap,cps,rare,crit,h,aud,rm,aadv,bulk,autos,sigma,up:up.map(u=>u.c),ts:Date.now(),ach:[...ach]};localStorage.setItem("sing2",JSON.stringify(o));if(man)toastMsg("Guardado")}
function load(){let s=localStorage.getItem("sing2");if(!s)return;try{let o=JSON.parse(s);({st,r,tap,cps,rare,crit,h,aud,rm,aadv,bulk,autos,sigma}=o);o.up&&o.up.forEach((c,i)=>up[i]&&(up[i].c=c));ach=new Set(o.ach||[]);let away=(Date.now()-o.ts)/1000;let cap=60*60*8;let off=Math.min(away,cap);let inc=cps*off*(1+(st>=4?.05:0)+(st>=5?.07:0)+(sigma*.05));if(inc>0){r+=inc;flash("Ω offline: "+fmt(inc))}}catch(e){}}
function vis(){document.hidden?autos=false:0}
function prestige(){if(st<nm.length-1||r<goal[st])return toastMsg("Aún no.");sigma++;SIG.textContent="Σ"+sigma;r=0;tap=1;cps=0;rare=.01;crit=.02;st=0;S.textContent=nm[st];up.forEach(u=>u.c=0);flash("Prestigio +5%");drawShop();chkAch();save()}
function chkAch(){let A=[["Ω100",(r>=100)],["Ω10K",(r>=1e4)],["Ω1M",(r>=1e6)],["Conciencia",(st>=1)],["Minería",(st>=2)],["Mundo",(st>=3)],["Singularidad",(st>=4)],["AI",(st>=5)],["Raro",(st>=6)],["Errorezs",(st>=7)],["Glichs",(st>=8)],["10 mejoras",(up.reduce((a,u)=>a+u.c,0)>=10)],["Crítico",(crit>=.05)],["Auto/s",(cps>=10)],["Σ1",(sigma>=1)],["Σ3",(sigma>=3)],["Tap50",(tap>=50)],["Evento",(rare>=.05)],["Streak",(localStorage.streak>2)],["Turbo",holdOn]];let box=$("#ach");box.innerHTML="";A.forEach(([k,ok])=>{if(ok&&!ach.has(k)){ach.add(k);toastMsg("Logro: "+k)}let div=D.createElement("div");div.textContent=(ok?"✅ ":"⬜ ")+k;box.append(div)})}
function share(){let txt=`Estoy en ${nm[st]} con Ω ${fmt(r)} y Σ${sigma} en Clicker v2`;navigator.share?navigator.share({title:"Clicker v2",text:txt,url:location.href}).catch(()=>{}):(navigator.clipboard?.writeText(txt),toastMsg("Copiado"))}
$("#gear").onclick=()=>{$("#panel").style.display="grid"};$("#x").onclick=()=>{$("#panel").style.display="none"};$("#aud").onchange=e=>aud=e.target.checked;$("#hap").onchange=e=>h=e.target.checked;$("#rm").onchange=e=>rm=e.target.checked;$("#aadv").onchange=e=>aadv=e.target.checked;$("#asv").onchange=e=>autos=e.target.checked;$("#share").onclick=share;$("#export").onclick=()=>{save(true);let s=btoa(localStorage.getItem("sing2")||"{}");navigator.clipboard?.writeText(s);toastMsg("Exportado")};$("#import").onclick=async()=>{let s=prompt("Pega tu código");if(!s)return;localStorage.setItem("sing2",atob(s));load();drawShop();toastMsg("Importado")};$("#reset").onclick=()=>{if(confirm("¿Reset?")){localStorage.removeItem("sing2");location.reload()}};$("#prest").onclick=prestige;$("#buy").onclick=()=>{bulk=bulk==1?10:1;$("#buy").textContent="x"+bulk;drawShop()};$("#auto").onclick=()=>{autos=!autos;$("#auto").textContent=autos?"⏸︎":"▶︎"};document.addEventListener("visibilitychange",vis);
function init(){load();drawShop();SIG.textContent="Σ"+sigma;chkAch();requestAnimationFrame(tick);setInterval(()=>{autos&&t(true)},220);setInterval(()=>{save()},5e3);setTimeout(()=>flash("Consejo: mantén presionado para TURBO"),800)}
init();
</script></body></html>